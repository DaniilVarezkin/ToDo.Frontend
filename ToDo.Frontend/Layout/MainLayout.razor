@using MudBlazor
@inherits LayoutComponentBase

<MudThemeProvider />
<MudPopoverProvider />
<MudDialogProvider />
<MudSnackbarProvider />

<MudLayout>
    <MudBreakpointProvider>
        <MudAppBar Elevation="1">
                <MudHidden Breakpoint="Breakpoint.SmAndDown" Invert="true">
                    <MudIconButton Icon="@Icons.Material.Filled.Menu"
                                    Color="Color.Inherit"
                                    Edge="Edge.Start"
                                    OnClick="ToggleDrawer" />
                </MudHidden>
                <MudHidden Breakpoint="Breakpoint.SmAndUp" Invert="true">
                    <MudText>ToDo App</MudText>
                </MudHidden>
        </MudAppBar>

        <MudDrawer @bind-Open="@_drawerOpen" Elevation="1"  Variant="DrawerVariant.Responsive" ClipMode="DrawerClipMode.Docked">

            <MudHidden Breakpoint="Breakpoint.SmAndDown" Invert="true">
                <MudDrawerHeader>
                    <MudText Typo="Typo.h6">ToDo App</MudText>
                </MudDrawerHeader>
            </MudHidden>

            <NavMenu />
        </MudDrawer>

        <!-- Основной контент -->
        <MudMainContent>
            <MudContainer MaxWidth="MaxWidth.Large">
                @Body
            </MudContainer>
        </MudMainContent>
    </MudBreakpointProvider>

</MudLayout>

@code {
    private bool _drawerOpen = true;
    private void ToggleDrawer() => _drawerOpen = !_drawerOpen;
}
